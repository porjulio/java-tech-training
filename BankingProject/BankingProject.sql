USE SAKILA;
CREATE DATABASE GBSDBV1;
-- DROP DATABASE GBSDBV1;
-- DROP TABLE USERS;
CREATE TABLE USERS(
USER_ID INT,
USER_NAME VARCHAR(15) NOT NULL,
USER_PASSWORD VARCHAR(15) NOT NULL,
CREATION_DATE VARCHAR(20) NOT NULL,
NUMBER_OF_ACCOUNTS INT NOT NULL,
ACCOUNT_NUMBER INT NOT NULL,
TOTAL_BALANCE FLOAT NOT NULL,
CONTACT_NUMBER VARCHAR(10) NOT NULL,
PRIMARY KEY (USER_ID)
);

SELECT * FROM USERS;

INSERT INTO USERS VALUES(11, 'okidoks', 'passweird123', '2021-11-02', 1, 123654, 4000.00, '9346758390');
INSERT INTO USERS VALUES(12, 'okaydot', 'passwurd123', '2021-11-09', 1, 234765, 23587.89, '9687345119');
INSERT INTO USERS VALUES(13, 'userisokay', 'passwordisokay', '2021-11-14', 1, 111223, 537.00, '9875998345');
INSERT INTO USERS VALUES(14, 'masarap', 'angnilagangbaka', '2021-11-23', 1, 332456, 120789.23, '9444378574');
INSERT INTO USERS VALUES(15, 'masustansya', 'angmalunggay', '2021-10-28', 1, 016784, 82456.76, '9113875098');


DELIMITER //
CREATE PROCEDURE AddUserID()
BEGIN
SELECT FLOOR(RAND() * (999999 - 100001 + 1)) + 100001 AS USER_ID_GENERATOR FROM USERS WHERE "USER_ID_GENERATOR"
NOT IN (SELECT USER_ID FROM USERS) LIMIT 1;
INSERT INTO USERS(USER_ID) VALUES(USER_ID_GENERATOR);

END; //
DELIMITER;


